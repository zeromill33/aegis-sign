# Status
Draft

# Story
**As a** 性能工程/可靠性负责人
**I want** 建立压测工具与基线报告（Performance Gate）
**so that** 在并发 c=500、持续 15 分钟下达成 p99 < 10ms、丢弃率 < 0.5%、CPU < 75%。

# Acceptance Criteria
1. 提供压测工具（支持流式/批量 + digest 生成），可配置并发/批量参数
2. 基线：c=500 持续 15 分钟，`p99 < 10ms`、丢弃率 < 0.5%、CPU < 75%、`engine_q_depth_avg < 1`
3. A/B 报告：`N(worker)=8/12/16`、`batch on/off`、实例家族（x86/ARM）对比归档
4. 产出标准报告模板与归档路径

# Tasks / Subtasks
- [ ] 压测器实现（AC: 1）
  - [ ] 流式/批量两种模式；digest 自动生成
  - [ ] 指标采集：延迟分位、失败/丢弃率、CPU/内存、q_depth
- [ ] 基线压测（AC: 2）
  - [ ] c=500×15min；报告出图与结论
- [ ] A/B 实验（AC: 3）
  - [ ] N(worker) 维度与 batch on/off；实例家族
- [ ] 报告模板与归档（AC: 4）
  - [ ] Markdown + CSV/JSON 原始数据；压测脚本保存在 repo

# Dev Notes
- 来源：docs/bmad-stories-create-sign.md S13
- 依赖：S6–S10 完成后进行，以获得可信指标

## Testing
- 自检：在小规模并发下与期望指标的一致性

# Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-19 | v1 | 初始创建 | PM |

# Dev Agent Record

