# Status
Draft

# Story
**As a** 签名引擎维护者
**I want** 接入 libsecp256k1 并一次性初始化上下文
**so that** 单签名计算 ≤ 0.30ms，满足性能基线。

# Acceptance Criteria
1. 进程启动仅初始化一次 `SECP256K1_CONTEXT_SIGN`，线程内复用
2. 单签名计算 ≤ 0.30ms（目标机型基线），提供 benchmark 结果
3. 提供 cgo 封装 `Sign`、`RecoverableSign`，默认 RFC6979；可选 recId
4. 提供可观测指标：`sign_cpu_us`, `engine_init_ms`

# Tasks / Subtasks
- [ ] 依赖管理与构建（AC: 1,3）
  - [ ] libsecp256k1 引入与编译参数：`-O3 -march=native`，开启汇编优化
  - [ ] cgo 封装接口与错误处理
- [ ] 上下文初始化生命周期（AC: 1）
  - [ ] 进程启动一次性初始化，线程内复用
- [ ] 基准测试与对比（AC: 2）
  - [ ] 单签名 benchmark 与报告
- [ ] 指标与日志（AC: 4）
  - [ ] sign_cpu_us、engine_init_ms

# Dev Notes
- 来源：docs/bmad-stories-create-sign.md S6
- 建议：搭配 S8 的 worker 固定 context 与 LockOSThread 提升稳定性

## Testing
- Benchmark + 单元测试覆盖边界情况（无效私钥/摘要）

# Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-19 | v1 | 初始创建 | PM |

# Dev Agent Record

